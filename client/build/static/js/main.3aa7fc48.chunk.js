(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{143:function(e,t,a){"use strict";a.r(t),function(e){var t=a(7),n=a.n(t),r=a(10),c=a(24);e.exports={getFromAPI:function(e){return Object(r.a)(n.a.mark((function t(){var a;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c(e);case 3:return a=t.sent,t.abrupt("return",a);case 7:return t.prev=7,t.t0=t.catch(0),console.error(t.t0),console.error(t.t0.response.status),t.abrupt("return",!1);case 12:case"end":return t.stop()}}),t,null,[[0,7]])})))()},putToAPI:function(e){return Object(r.a)(n.a.mark((function t(){var a;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c(e);case 3:return a=t.sent,t.abrupt("return",a);case 7:return t.prev=7,t.t0=t.catch(0),console.error(t.t0),console.log(t.t0.response.status),t.abrupt("return",!1);case 12:case"end":return t.stop()}}),t,null,[[0,7]])})))()},postToAPI:function(e){return Object(r.a)(n.a.mark((function t(){var a;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c(e);case 3:return a=t.sent,t.abrupt("return",a);case 7:return t.prev=7,t.t0=t.catch(0),console.error(t.t0.message,t.t0.response.status),t.abrupt("return",!1);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))()}}}.call(this,a(437)(e))},254:function(e,t,a){e.exports=a.p+"static/media/python.01766e9c.svg"},255:function(e,t,a){e.exports=a.p+"static/media/javascript.5b546759.svg"},256:function(e,t,a){e.exports=a.p+"static/media/cpp.c61a5c47.svg"},257:function(e,t,a){e.exports=a.p+"static/media/ruby.b00bb613.svg"},258:function(e,t,a){e.exports=a.p+"static/media/java.cce27e61.svg"},259:function(e,t,a){e.exports=a.p+"static/media/php.89d81358.svg"},260:function(e,t,a){e.exports=a.p+"static/media/golang.0e445d13.svg"},261:function(e,t,a){e.exports=a.p+"static/media/csharp.340da926.svg"},265:function(e,t,a){e.exports=a.p+"static/media/code.a979f2bc.jpg"},291:function(e,t,a){e.exports=a(471)},296:function(e,t,a){},420:function(e,t,a){},467:function(e,t){},470:function(e,t,a){},471:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),i=a.n(c),o=(a(296),a(8)),l=a(558),s=a(27),u=a(25),m=a(3),d=function(e,t){switch(t.type){case"FETCH":return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case"FETCH_USER_ERROR":return Object(m.a)(Object(m.a)({},e),{},{error:t.error,loading:!1});case"FETCH_USER_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{user:t.user,loading:!1,error:null});case"LOGOUT":return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case"LOGOUT_USER_ERROR":return Object(m.a)(Object(m.a)({},e),{},{error:t.error,loading:!1});case"LOGOUT_USER_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{user:{},loading:!1,error:null});case"LOGIN":case"SIGNUP":return Object(m.a)(Object(m.a)({},e),{},{user:t.user,loading:!1,error:null});case"ADD_ITEM_TO_CART":return Object(m.a)(Object(m.a)({},e),{},{cart:[t.item]});case"CREATE_PAYMENT_INTENT_SUCCESS":return console.log(t),Object(m.a)(Object(m.a)({},e),{},{loading:!0,secret:Object(m.a)(Object(m.a)({},e.secret),t.secret),error:null});case"CREATE_PAYMENT_INTENT_ERROR":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,error:t.error});case"CONFIRM_PAYMENT_INTENT_SUCCESS":return delete e.secret,Object(m.a)(Object(m.a)({},e),{},{loading:!1,user:t.data,error:null});case"CONFIRM_PAYMENT_INTENT_ERROR":return delete e.secret,Object(m.a)(Object(m.a)({},e),{},{loading:!1,error:t.error});case"FINISH_LOAD":return Object(m.a)(Object(m.a)({},e),{},{loading:!1});case"GET_LANGUAGES":return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case"GET_LANGUAGES_ERROR":return Object(m.a)(Object(m.a)({},e),{},{error:t.error,loading:!1});case"GET_LANGUAGES_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{user:t.user,loading:!1,error:null});case"UPDATE_USER_LANGUAGES":return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case"UPDATE_USER_LANGUAGES_ERROR":return Object(m.a)(Object(m.a)({},e),{},{error:t.error,loading:!1});case"UPDATE_USER_LANGUAGES_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{user:t.user,loading:!1,error:null});case"UPDATE_USER_PROJECTS":return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case"UPDATE_USER_PROJECTS_ERROR":return Object(m.a)(Object(m.a)({},e),{},{error:t.error,loading:!1});case"UPDATE_USER_PROJECTS_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{user:t.user,loading:!1,error:null});case"UPDATE_USER_BALANCE":return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case"UPDATE_USER_BALANCE_ERROR":return Object(m.a)(Object(m.a)({},e),{},{error:t.error,loading:!1});case"UPDATE_USER_BALANCE_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{user:t.user,loading:!1,error:null});case"CREATE_USER_AVATAR_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,user:t.user});case"CREATE_USER_AVATAR_ERROR":return Object(m.a)(Object(m.a)({},e),{},{error:t.error,loading:!1});case"EDIT_USER_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,user:t.user});case"EDIT_USER_ERROR":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,error:t.error});case"CREATE_CODE_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,error:null});case"CREATE_CODE_ERROR":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,error:t.error});case"REMOVE_USER":return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case"REMOVE_USER_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{user:t.user,loading:!1,error:null});case"GET_USER_REVIEWS_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{reviews:t.reviews,loading:!1});case"GET_USER_REVIEWS_ERROR":return Object(m.a)(Object(m.a)({},e),{},{error:t.error,loading:!1});case"REMOVE_USER_ERROR":return Object(m.a)(Object(m.a)({},e),{},{error:t.user,loading:!1});default:return e}},p=function(){return{user:{},loading:!0}},E=Object(n.createContext)({user:{}}),f=Object(n.createContext)({loading:!1}),g=a(273),b=Object(g.a)({typography:{fontFamily:'"Roboto"',fontSize:12,h1:{}},palette:{primary:{main:"#43DDC1",white:"#fff"},secondary:{main:"#6E3ADB"},button:{default:"#43DDC1",remove:"#fa8072"},background:{gradient:"linear-gradient(to bottom, #778ae0, #6e3adb)",solid:"#ecf0fa",inAppBackdrop:"#ecf0fa"},navbar:"#501CBD",divider:"#000000",profile:"#fff",boxShadow:"0 3px 5px 2px #888888"},spacing:8}),v=a(98),h=function(e){var t=e.children,a=e.condition,n=e.redirect,c=Object(v.a)(e,["children","condition","redirect"]);return r.a.createElement(u.b,Object.assign({},c,{render:function(e){var c=e.location;return a()?t:r.a.createElement(u.a,{to:{pathname:"".concat(n||"/login"),state:{from:c}}})}}))},O=function(e){var t=e.children,a=e.condition;Object(v.a)(e,["children","condition"]);return a()?t:r.a.createElement(r.a.Fragment,null)},j=a(473),S=a(54),C=a(536),w=a(537),y=a(519),x=a(522),R=a(538),k=a(275),_=a(529),T=a(251),N=a.n(T),A=a(250),U=a.n(A),P=a(252),D=a.n(P),I=a(535),F=a(7),z=a.n(F),L=a(10),W=a(526),B=a(524),M=a(527),G=a(553);function q(e){return r.a.createElement(G.a,{mt:2,fontSize:"h4.fontSize",fontWeight:"fontWeightBold",textAlign:"center"},e.children)}var H=Object(j.a)((function(e){return{submit:{margin:e.spacing(3,0,2),padding:e.spacing(1,6),border:0,borderRadius:25,color:"#fff",textTransform:"none",fontSize:15}}}));function V(e){var t=H();return r.a.createElement(y.a,{size:"large",type:"submit",variant:"contained",color:"primary",className:t.submit,onClick:e.onClick,disabled:e.disabled},e.children)}var J=a(552),K=a(59),Y=a(30),$=a.n(Y),Q=a(66),Z=a.n(Q),X=a(241),ee=a.n(X),te=a(150),ae=a.n(te),ne=(a(419),a(420),a(523)),re=Object(j.a)((function(e){return{controls:{borderBottom:"1px solid #ddd"}}}));function ce(e){var t=e.editorState,a=e.RichUtils,n=e.setEditorState,c=re(),i=function(e){var c=e.format,i=e.icon,o=t.getCurrentInlineStyle();return r.a.createElement(x.a,{size:"medium",color:o.has(c)?"secondary":"default",onMouseDown:function(e){e.preventDefault();var r=a.toggleInlineStyle(t,c);n(r)}},r.a.createElement(ne.a,null,i))},o=function(e){var c=e.format,i=e.icon,o=t.getSelection(),l=t.getCurrentContent().getBlockForKey(o.getStartKey()).getType();return r.a.createElement(x.a,{size:"medium",color:c===l?"secondary":"default",onMouseDown:function(e){e.preventDefault();var r=a.toggleBlockType(t,c);n(r)}},r.a.createElement(ne.a,null,i))};return r.a.createElement("div",{className:c.controls},r.a.createElement(B.a,{container:!0,justify:"flex-start"},r.a.createElement(B.a,{item:!0,xs:8,sm:"auto",md:"auto"},r.a.createElement(i,{format:"BOLD",icon:"format_bold"}),r.a.createElement(i,{format:"ITALIC",icon:"format_italic"}),r.a.createElement(i,{format:"UNDERLINE",icon:"format_underlined"}),r.a.createElement(o,{format:"code-block",icon:"code"})),r.a.createElement(B.a,{item:!0,xs:!0,sm:5,md:!0},r.a.createElement(G.a,{display:{xs:"none",sm:"block"}},r.a.createElement(o,{format:"blockquote",icon:"format_quote"}),r.a.createElement(o,{format:"ordered-list-item",icon:"format_list_numbered"}),r.a.createElement(o,{format:"unordered-list-item",icon:"format_list_bulleted"})))))}a(209),a(210),a(211),a(212),a(213),a(214),a(215),a(216),a(217);var ie={Python:"python",JavaScript:"javascript",Java:"java",PHP:"php",GoLang:"go","C#":"csharp","C++":"cpp",Ruby:"ruby"},oe=Object(j.a)((function(e){return{editor:{border:"1px solid #ddd",borderRadius:"4px",minHeight:"320px"},controls:{borderBottom:"1px solid #ddd"}}})),le=function(e){var t=e.language,a=e.makeSubmit,c=e.onSubmit,i=e.hasContent,l=e.content,s=e.readOnly,u=oe(),m=ie[t]||null,d=new ee.a({prism:ae.a,defaultSyntax:m}),p=Object(n.useState)(function(e){if(e){var t=Object(Y.convertFromRaw)(e);return Y.EditorState.createWithContent(t,d)}return Y.EditorState.createEmpty(d)}(l)),E=Object(o.a)(p,2),f=E[0],g=E[1];Object(n.useEffect)((function(){var e=f.getSelection(),t=f.getCurrentContent().getBlockForKey(e.getStartKey()),a=t.getData().merge({syntax:m}),n=t.merge({data:a}),r=f.getCurrentContent().merge({blockMap:f.getCurrentContent().getBlockMap().set(e.getStartKey(),n),selectionAfter:e});g(Y.EditorState.push(f,r,"change-block-data"))}),[f,m]);return Object(n.useEffect)((function(){if(a){var e=Object(Y.convertToRaw)(f.getCurrentContent());c({text:e}),g(Y.EditorState.createEmpty(d))}}),[d,c,f,a]),r.a.createElement("div",{className:s?"false":u.editor},!s&&r.a.createElement(ce,{editorState:f,RichUtils:Y.RichUtils,setEditorState:g}),r.a.createElement("div",{onKeyDown:function(e){return"Tab"===e.key?(g(Z.a.onTab(e,f)),e.preventDefault(),"myeditor-save"):Object(Y.getDefaultKeyBinding)(e)}},r.a.createElement(Y.Editor,{editorState:f,onChange:function(e){e.getCurrentContent().hasText()?i(!0):i(!1),g(Y.EditorState.set(e,{decorator:d}))},keyBindingFn:function(e){return Z.a.hasSelectionInBlock(f)&&Z.a.getKeyBinding(e)||$.a.getDefaultKeyBinding(e)},handleKeyCommand:function(e){var t;return Z.a.hasSelectionInBlock(f)&&(t=Z.a.handleKeyCommand(f,e)),t||(t=Y.RichUtils.handleKeyCommand(f,e)),t?(g(t),"handled"):"not-handled"},handleReturn:function(e){return Z.a.hasSelectionInBlock(f)?(g(Z.a.handleReturn(e,f)),"handled"):"not-handled"},blockStyleFn:function(e){switch(e.getType()){case"code-block":return"language-".concat(m);default:return null}},readOnly:s})))},se=a(556),ue=a(123),me=a.n(ue);function de(e){var t=r.a.useState(!1),a=Object(o.a)(t,2)[1];return r.a.createElement("div",null,r.a.createElement(se.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:e.open,autoHideDuration:6e3,onClose:function(e,t){"clickaway"!==t&&a(!1)},message:e.children,action:r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{size:"small","aria-label":"close",color:"inherit",onClick:e.onClick},r.a.createElement(me.a,{fontSize:"small"})))}))}var pe=a(24),Ee=function(e){return function(){var t=Object(L.a)(z.a.mark((function t(a){var n,r;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"FETCH"}),t.prev=1,t.next=4,pe({url:"/api/user/review",method:"POST",data:e,headers:{"Content-Type":"application/json"}});case 4:n=t.sent,r=n.data,a({type:"CREATE_CODE_SUCCESS",data:r}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a({type:"CREATE_CODE_ERROR",error:Object(m.a)({},t.t0)});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},fe=function(){var e=Object(L.a)(z.a.mark((function e(t){var a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pe({method:"POST",url:"/api/user/profile",data:{userId:t}});case 3:if(!(a=e.sent).error){e.next=6;break}throw a.error;case 6:return e.abrupt("return",a.data);case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),ge=function(){var e=Object(L.a)(z.a.mark((function e(t){var a,n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pe({method:"POST",url:"/api/user/profile/reviews",data:{userId:t}});case 3:return a=e.sent,n=a.data,e.abrupt("return",n.reviewsCount);case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),be=function(){var e=Object(L.a)(z.a.mark((function e(t){var a,n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pe({method:"POST",url:"/api/user/profile/comments",data:{userId:t}});case 3:return a=e.sent,n=a.data,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),ve=a(143),he=function(){var e=Object(L.a)(z.a.mark((function e(t,a,n){var r,c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:"UPDATE_USER_BALANCE"}),e.prev=1,r={method:"put",url:"/api/user/balance",data:{userId:t,credits:a}},e.next=5,ve.putToAPI(r);case 5:c=e.sent,n({type:"UPDATE_USER_BALANCE_SUCCESS",user:c.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),n({type:"UPDATE_USER_BALANCE_ERROR",error:Object(m.a)({},e.t0)});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a,n){return e.apply(this,arguments)}}();function Oe(e){var t=e.state,a=e.dispatch,c=e.open,i=e.handleClose,l=Object(n.useState)(""),s=Object(o.a)(l,2),u=s[0],m=s[1],d=Object(n.useState)(""),p=Object(o.a)(d,2),E=p[0],f=p[1],g=Object(n.useState)(!1),b=Object(o.a)(g,2),v=b[0],h=b[1],O=Object(n.useState)(!1),j=Object(o.a)(O,2),S=j[0],C=j[1],w=Object(n.useState)({state:!1,message:""}),y=Object(o.a)(w,2),x=y[0],R=y[1],k=function(){var e=Object(L.a)(z.a.mark((function e(n){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r={title:u,language:E,content:n},he(t.user.id,-T,a),Ee(r)(a),m(""),f(""),h(!1),i();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=1;return r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a,{fullWidth:!0,maxWidth:"md",open:c,onClose:i},r.a.createElement(M.a,null,r.a.createElement(q,null,"Request a code review"),r.a.createElement(G.a,{mt:5,mb:5,pl:5,pr:5},r.a.createElement(B.a,{container:!0,spacing:3},r.a.createElement(B.a,{item:!0,xs:12,sm:8,md:8},r.a.createElement(K.a,{component:"h1",variant:"h6"},"Title:"),r.a.createElement(J.a,{variant:"outlined",fullWidth:!0,value:u,onChange:function(e){return m(e.target.value)}})),r.a.createElement(B.a,{item:!0,xs:12,sm:4,md:4},r.a.createElement(K.a,{component:"h1",variant:"h6"},"Language:"),r.a.createElement(J.a,{fullWidth:!0,select:!0,name:"language",value:E,variant:"outlined",onChange:function(e){return f(e.target.value)}},["Python","JavaScript","Java","PHP","GoLang","C#","C++","Ruby"].map((function(e,t){return r.a.createElement(_.a,{key:t,value:e},e)})))),r.a.createElement(B.a,{item:!0,xs:12,sm:12,md:12},r.a.createElement(le,{language:E,makeSubmit:v,onSubmit:k,hasContent:function(e){C(e)}})),r.a.createElement(B.a,{item:!0,container:!0,justify:"center"},r.a.createElement(V,{onClick:function(){E&&u&&S?t.user.balance<T?R({state:!0,message:"You don't have enough credits!"}):h(!0):R({state:!0,message:"Fill in all the fields"})}},"Submit")),r.a.createElement(de,{open:!!x.state,onClick:function(){return R({state:!1,message:""})}},x.message))))))}var je=a(86),Se=a(242),Ce=a(243),we=a(244),ye=a.n(we),xe=new(function(){function e(){Object(Se.a)(this,e),this.socket=ye()("localhost:3001"),this.subscribers=[]}return Object(Ce.a)(e,[{key:"login",value:function(e){this.socket.emit("login",e)}},{key:"messages",value:function(e){this.socket.emit("thread",e)}},{key:"subscribe",value:function(e,t){this.subscribers.push({name:e,function:t})}},{key:"unsubscribe",value:function(e){this.subscribers.splice(this.subscribers.findIndex((function(t,a){return t.name===e?a:null})),1)}},{key:"initializeEvents",value:function(){var e=this;this.socket.on("notification",(function(t){e.subscribers.forEach((function(e){if("notifications"===e.name)try{e.function(t)}catch(a){console.log(a)}}))})),this.socket.on("message",(function(t){e.subscribers.forEach((function(e){if("messages"===e.name)try{e.function(t)}catch(a){console.log(a)}}))}))}}]),e}());xe.initializeEvents();var Re=xe,ke=a(24),_e=a.n(ke),Te=6e4,Ne=36e5,Ae=864e5,Ue=6048e5,Pe=2592e6,De=31536e6;var Ie=a(530),Fe=a(245),ze=a.n(Fe),Le=Object(j.a)({menu:{padding:"0"},seen:{background:"white"},unseen:{background:"#C2DFFF"},wrapper:{padding:"0 1vh 0 0",margin:"0"},time:{color:"gray"},link:{textDecoration:"none"}}),We={notifications:[]},Be=function(e,t){switch(t.type){case"newNotification":return{notifications:[t.payload].concat(Object(je.a)(e.notifications))};case"getNotifications":return{notifications:t.payload};case"setSeen":return{notifications:function(){var t=e.notifications.map((function(e){return e.seen=!0,e}));return _e.a.put("/api/notifications/update-read",{notifications:t}),t}()};default:throw new Error("State update error")}},Me=function(){var e=Object(n.useReducer)(Be,We),t=Object(o.a)(e,2),a=t[0],c=t[1],i=Le(),l=Object(n.useContext)(E),u=Object(n.useState)(null),m=Object(o.a)(u,2),d=m[0],p=m[1],f=Object(n.useCallback)(Object(L.a)(z.a.mark((function e(){var t,a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e.a.get("/api/notifications/".concat(l.id));case 2:t=e.sent,a=t.data,c({type:"getNotifications",payload:a.reverse()});case 5:case"end":return e.stop()}}),e)}))),[l.id]);Object(n.useEffect)((function(){return f(),Re.subscribe("notifications",g),function(){return Re.unsubscribe("notifications")}}),[f]);var g=function(e){c({type:"newNotification",payload:e})},b=function(){for(var e=!1,t=0;t<a.notifications.length;t++)if(!a.notifications[t].seen){e=!0;break}e&&c({type:"setSeen"}),p(null)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ie.a,{color:"primary",overlap:"circle",badgeContent:a.notifications.length},r.a.createElement(x.a,{"aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){p(e.currentTarget)},color:"inherit",className:i.notification,disabled:a.notifications.length<1},r.a.createElement(ze.a,null))),r.a.createElement(k.a,{id:"notification-menu",anchorEl:d,getContentAnchorEl:null,open:Boolean(d),onClose:b,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},className:i.menu},a.notifications.map((function(e){return r.a.createElement(_.a,{className:"".concat(i.link," ").concat(e.seen?i.seen:i.unseen),key:e._id},r.a.createElement(B.a,{container:!0,direction:"row"},r.a.createElement(B.a,{item:!0,container:!0,className:i.wrapper,xs:11},r.a.createElement(B.a,{item:!0,xs:12,className:i.message},r.a.createElement(s.b,{to:"/reviews/".concat(e.thread),className:i.link,onClick:b},r.a.createElement(K.a,{variant:"h6"},e.text))),r.a.createElement(B.a,{item:!0,xs:12,className:i.time},r.a.createElement(K.a,{variant:"subtitle2"},function(e){var t=new Date(e),a=Date.now()-t.valueOf(),n=0;return a<Te?"just now":a<Ne?(n=a/Te,n=Math.floor(n),"".concat(n," minute(s) ago")):a<Ae?(n=a/Ne,n=Math.floor(n),"".concat(n," hour(s) ago")):a<Ue?(n=a/Ae,n=Math.floor(n),"".concat(n," day(s) ago")):a<Pe?(n=a/Ue,n=Math.floor(n),"".concat(n," week(s) ago")):a<De?(n=a/Pe,n=Math.floor(n),"".concat(n," month(s) ago")):"over a year ago"}(e.createdAt)," by ",e.author))),r.a.createElement(B.a,{item:!0,xs:1},r.a.createElement(x.a,{onClick:function(){var t;t=e._id,_e.a.delete("/api/notifications/".concat(t)),f(),1===a.notifications.length&&p(null)}},r.a.createElement(me.a,{fontSize:"small"})))))}))))};function Ge(){return(Ge=Object(L.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"LOGOUT"}),e.prev=1,e.next=4,_e()({method:"POST",withCredentials:!0,url:"/api/logout"});case 4:t({type:"LOGOUT_USER_SUCCESS"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),t({type:"LOGOUT_USER_ERROR",error:Object(m.a)({},e.t0)});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}var qe=a(557),He=a(534),Ve=a(528),Je=a(533),Ke=a(475),Ye=a(531),$e=a(532),Qe=a(249),Ze=a.n(Qe),Xe=a(248),et=a.n(Xe),tt=a(247),at=a.n(tt),nt=a(246),rt=a.n(nt),ct=a(127),it=a.n(ct),ot=Object(j.a)((function(e){return{list:{width:250},fab:{position:"absolute",bottom:e.spacing(2),left:e.spacing(2)}}}));function lt(e){var t=e.open,a=e.setOpen,n=e.userId,c=e.logout,i=ot(),o=function(){return function(e){(!e||"keydown"!==e.type||"Tab"!==e.key&&"Shift"!==e.key)&&a(!t)}},l=[{text:"Reviews",link:"/reviews",icon:r.a.createElement(rt.a,null)},{text:"Balance",link:"/balance",icon:r.a.createElement(at.a,null)},{text:"Profile",link:"/profile/".concat(n),icon:r.a.createElement(et.a,null)}],s=r.a.createElement("div",{className:i.list,role:"presentation",onClick:o,onKeyDown:o},r.a.createElement(Ve.a,null,l.map((function(e,t){return r.a.createElement(Ke.a,{button:!0,component:"a",href:e.link,key:t},r.a.createElement(Ye.a,null,e.icon),r.a.createElement($e.a,{primary:e.text}))}))),r.a.createElement(Je.a,{light:!0}),r.a.createElement(Ve.a,null,r.a.createElement(Ke.a,{button:!0,onClick:function(){return c()}},r.a.createElement(Ye.a,null,r.a.createElement(Ze.a,null)),r.a.createElement($e.a,{primary:"Logout"}))));return r.a.createElement("div",null,r.a.createElement(r.a.Fragment,{key:"right"},r.a.createElement(qe.a,{anchor:"right",open:t,onClose:function(){return a(!1)},onOpen:function(){return a(!0)}},s,r.a.createElement(He.a,{size:"medium",color:"secondary","aria-label":"add",onClick:function(){return a(!t)},className:i.fab},r.a.createElement(it.a,null)))))}var st=Object(j.a)((function(e){return{root:{flexGrow:1,position:"sticky",top:0,zIndex:e.zIndex.drawer+1},toolbar:{minHeight:e.spacing(8)},title:{flex:1},navLink:{textDecoration:"none",color:e.palette.primary.white,marginRight:e.spacing(3),fontFamily:e.typography.fontFamily,fontSize:e.typography.fontSize},menuLink:{textDecoration:"none",color:e.palette.secondary},avatar:{display:"flex",marginRight:e.spacing(1)},large:{width:e.spacing(7),height:e.spacing(7)},notification:{backgroundColor:"#4d2899"},upload:{borderRadius:50,marginRight:e.spacing(4),marginLeft:e.spacing(3)},buttonMenu:{textTransform:"none",color:e.palette.primary.white},list:{width:250},fullList:{width:"auto"}}})),ut=function(e){var t=e.state,a=e.dispatch,c=Object(n.useContext)(E),i=st(),l=Object(n.useState)(!1),u=Object(o.a)(l,2),m=u[0],d=u[1],p=Object(n.useState)(null),f=Object(o.a)(p,2),g=f[0],b=f[1],v=Object(n.useState)(!1),h=Object(o.a)(v,2),O=h[0],j=h[1],T=function(){!function(e){Ge.apply(this,arguments)}(a),b(null)},A=Object(S.a)(),P=Object(I.a)(A.breakpoints.down("xs"));return r.a.createElement("div",{className:i.root},r.a.createElement(Oe,{open:m,state:t,dispatch:a,handleClose:function(){d(!1)}}),r.a.createElement(C.a,{position:"static",color:"secondary"},r.a.createElement(w.a,{className:i.toolbar},r.a.createElement("div",{className:i.title},r.a.createElement(U.a,{fontSize:"large"})),P?r.a.createElement(r.a.Fragment,null,r.a.createElement(Me,null),r.a.createElement(y.a,{color:"primary",variant:"outlined",className:i.upload,onClick:function(){d(!0)}},"Upload Code"),r.a.createElement(x.a,{edge:"start",color:"inherit",onClick:function(){return j(!0)}},r.a.createElement(N.a,{fontSize:"large"})),r.a.createElement(lt,{open:O,setOpen:j,userId:t.user.id,logout:function(){return T()}})):r.a.createElement(r.a.Fragment,null,r.a.createElement(s.b,{to:"/reviews",className:i.navLink},"Reviews"),r.a.createElement(s.b,{to:"/balance",className:i.navLink},"Balance"),r.a.createElement(Me,null),r.a.createElement(y.a,{color:"primary",variant:"outlined",className:i.upload,onClick:function(){d(!0)}},"Upload Code"),r.a.createElement("div",{className:i.avatar},r.a.createElement(R.a,{src:c.avatar},c.name.split(/\s|-/).map((function(e){return e[0]})).join("")," ")),r.a.createElement(y.a,{className:i.buttonMenu,"aria-controls":"customized-menu","aria-haspopup":"true",variant:"text",color:"primary",onClick:function(e){b(e.currentTarget)}},"Profile",r.a.createElement(D.a,null)),r.a.createElement(k.a,{id:"nav-menu",anchorEl:g,getContentAnchorEl:null,open:Boolean(g),onClose:function(){return b(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(_.a,{onClick:function(){b(null)}},r.a.createElement(s.b,{to:"/profile/".concat(t.user.id),className:i.menuLink},"Profile")),r.a.createElement(_.a,{onClick:function(){return T()}},"Logout"))))))};function mt(){return(mt=Object(L.a)(z.a.mark((function e(t,a,n){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_e()({method:"POST",data:{email:t,password:a},withCredentials:!0,url:"/api/login"});case 3:r=e.sent,Re.login(r.data.user.id),n({type:"LOGIN",user:r.data.user}),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(0),new Error(e.t0.response.data);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var dt=a(540),pt=a(541),Et=a(539),ft=Object(j.a)((function(e){return{gradient:{height:"100vh",overflowY:"auto",background:e.palette.background.gradient,display:"flex"},solid:{height:"100vh",overflowY:"auto",background:e.palette.background.solid,display:"flex"}}}));function gt(e){var t=ft();return r.a.createElement("div",{className:e.gradient?t.gradient:t.solid},e.children)}var bt=a(276),vt=Object(j.a)((function(e){return{paper:{marginBottom:e.spacing(6),padding:e.spacing(5),display:"flex",flexDirection:"column",alignItems:"center"}}}));function ht(e){var t=vt();return r.a.createElement(G.a,{mt:e.mt},r.a.createElement(bt.a,{elevation:3,className:t.paper},e.children))}var Ot=Object(j.a)((function(e){return{form:{width:"100%",marginTop:e.spacing(3),textAlign:"center"}}}));function jt(e){e.state;var t=e.dispatch,a=Ot(),c=Object(n.useState)(""),i=Object(o.a)(c,2),l=i[0],u=i[1],m=Object(n.useState)(""),d=Object(o.a)(m,2),p=d[0],E=d[1],f=Object(n.useState)(!1),g=Object(o.a)(f,2),b=g[0],v=g[1],h=Object(n.useState)(!1),O=Object(o.a)(h,2),j=O[0],S=O[1];return r.a.createElement(gt,{gradient:!0},r.a.createElement(Et.a,{component:"main",maxWidth:"xs"},r.a.createElement(dt.a,null),r.a.createElement(ht,{mt:20},r.a.createElement(q,null,"Welcome back!"),r.a.createElement("form",{className:a.form},r.a.createElement(B.a,{direction:"column",justify:"center",container:!0,spacing:1},r.a.createElement(B.a,{item:!0},r.a.createElement(J.a,{variant:"outlined",fullWidth:!0,id:"email",label:"E-mail Address",name:"email",value:l,autoComplete:"email",error:!(!b||l),helperText:b&&!l?"Field can not be blank":null,onChange:function(e){return u(e.target.value)}})),r.a.createElement(B.a,{item:!0},r.a.createElement(J.a,{variant:"outlined",fullWidth:!0,name:"password",value:p,label:"Password",type:"password",id:"password",autoComplete:"current-password",error:!(!b||p),helperText:b&&!p?"Field can not be blank":null,onChange:function(e){return E(e.target.value)}})),r.a.createElement(B.a,{item:!0},r.a.createElement(de,{open:!!j,onClick:function(){return S(!1)}},j))),r.a.createElement(V,{onClick:function(e){e.preventDefault(),l&&p?function(e,t,a){return mt.apply(this,arguments)}(l,p,t).catch((function(e){S(e.message)})):v(!0)}},"Login")),r.a.createElement(G.a,{mt:3},r.a.createElement(B.a,{container:!0,direction:"row",justify:"center",spacing:1},r.a.createElement(B.a,{item:!0},r.a.createElement(K.a,{component:"h1",variant:"h6"},"Don't have an account?")),r.a.createElement(B.a,{item:!0},r.a.createElement(pt.a,{component:s.b,to:"/signup",variant:"h6"},"Create"))),r.a.createElement(B.a,{container:!0,direction:"row",justify:"center",spacing:1},r.a.createElement(B.a,{item:!0},r.a.createElement(K.a,{variant:"subtitle1"},"or just log in as a")),r.a.createElement(B.a,{item:!0},r.a.createElement(pt.a,{component:s.b,to:"#",onClick:function(){u("guest@guest.guest"),E("guest2020")},variant:"subtitle1"},"Guest")))))))}function St(){return(St=Object(L.a)(z.a.mark((function e(t,a,n,r,c){var i;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_e()({method:"POST",data:{email:t,name:a,password:n,confirmPassword:r},withCredentials:!0,url:"/api/register"});case 3:i=e.sent,Re.login(i.data.user.id),c({type:"SIGNUP",user:i.data.user}),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(0),new Error(e.t0.response.data);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var Ct=Object(j.a)((function(e){return{form:{width:"100%",marginTop:e.spacing(3),textAlign:"center"}}}));function wt(e){e.state;var t=e.dispatch,a=Ct(),c=Object(n.useState)({value:"",error:"Field can not be blank",touched:!1}),i=Object(o.a)(c,2),l=i[0],u=i[1],m=Object(n.useState)({value:"",error:"Field can not be blank",touched:!1}),d=Object(o.a)(m,2),p=d[0],E=d[1],f=Object(n.useState)({value:"",error:"Field can not be blank",touched:!1}),g=Object(o.a)(f,2),b=g[0],v=g[1],h=Object(n.useState)({value:"",error:"Field can not be blank",touched:!1}),O=Object(o.a)(h,2),j=O[0],S=O[1],C=Object(n.useState)(!1),w=Object(o.a)(C,2),y=w[0],x=w[1];return r.a.createElement(gt,{gradient:!0},r.a.createElement(Et.a,{component:"main",maxWidth:"xs"},r.a.createElement(dt.a,null),r.a.createElement(ht,{mt:20},r.a.createElement(q,null,"Create an account"),r.a.createElement("form",{className:a.form},r.a.createElement(B.a,{direction:"column",justify:"center",container:!0,spacing:1},r.a.createElement(B.a,{item:!0},r.a.createElement(J.a,{variant:"outlined",fullWidth:!0,id:"username",label:"User name",name:"email",error:!(!l.error||!l.touched&&!y),helperText:(l.touched||y)&&l.error,onChange:function(e){var t="";e.target.value.length<4||e.target.value.length>20?t="Username length should be 4-20 chars long":e.target.value.match(/^[a-zA-Z0-9-]+$/)||(t='Only letters, numbers and  "-" are  acceptable'),u({value:e.target.value,touched:!0,error:t})}})),r.a.createElement(B.a,{item:!0},r.a.createElement(J.a,{variant:"outlined",fullWidth:!0,id:"email",label:"Email Address",name:"email",error:!(!p.error||!p.touched&&!y),helperText:(p.touched||y)&&p.error,onChange:function(e){var t="";e.target.value.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)||(t="Incorrect email address"),E({value:e.target.value,touched:!0,error:t})}})),r.a.createElement(B.a,{item:!0},r.a.createElement(J.a,{variant:"outlined",fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",error:!(!b.error||!b.touched&&!y),helperText:(b.touched||y)&&b.error,onChange:function(e){var t=null;switch(!0){case e.target.value.length<6:t="Password must be at least 6 characters long";break;case j.value&&e.target.value!==j.value:S((function(e){return{value:e.value,error:"Passwords do not match",touched:!0}}));break;case j.value&&"Passwords do not match"===j.error&&e.target.value===j.value:S((function(e){return{value:e.value,error:null,touched:!0}}))}v({value:e.target.value,error:t,touched:!0})}})),r.a.createElement(B.a,{item:!0},r.a.createElement(J.a,{variant:"outlined",fullWidth:!0,name:"repeatPassword",label:"Repeat Password",type:"password",id:"repeatPassword",error:!(!j.error||!j.touched&&!y),helperText:(j.touched||y)&&j.error,onChange:function(e){S({value:e.target.value,error:e.target.value===b.value?null:"Passwords do not match",touched:!0})}}))),r.a.createElement(V,{onClick:function(e){e.preventDefault(),!l.touched||!p.touched||!b.touched||!j.touched||l.error||p.error||b.error||j.error?(console.log("NOT PASS"),x(!0)):function(e,t,a,n,r){return St.apply(this,arguments)}(p.value,l.value,b.value,j.value,t).catch((function(e){E((function(t){return{value:t.value,error:e.message,touched:!0}}))}))}},"Continue")),r.a.createElement(G.a,{mt:5},r.a.createElement(B.a,{container:!0,direction:"row",justify:"center",spacing:1},r.a.createElement(B.a,{item:!0},r.a.createElement(K.a,{component:"h1",variant:"h6"},"Already have an account?")),r.a.createElement(B.a,{item:!0},r.a.createElement(pt.a,{component:s.b,to:"/login",variant:"h6"},"Sign In")))))))}var yt=a(253),xt=a.n(yt),Rt=a(128),kt=a.n(Rt),_t=a(143),Tt=function(){var e=Object(L.a)(z.a.mark((function e(t,a){var n,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"UPDATE_USER_LANGUAGES"}),e.prev=1,n={method:"put",url:"/api/user/languages",data:{languages:t}},e.next=5,_t.putToAPI(n);case 5:r=e.sent,a({type:"UPDATE_USER_LANGUAGES_SUCCESS",user:r.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),a({type:"UPDATE_USER_LANGUAGES_ERROR",error:Object(m.a)({},e.t0)});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}(),Nt=Object(j.a)((function(e){return{form:{width:"100%",marginTop:e.spacing(3),textAlign:"center"},add:{margin:e.spacing(3,0,2),padding:e.spacing(1,6),border:0,borderRadius:25,textTransform:"none",fontSize:16},removeIcon:{color:e.palette.button.remove}}})),At=function(e){e.state;var t=e.dispatch,a=Nt(),c=["Python","JavaScript","Java","PHP","GoLang","C#","C++","Ruby"],i=["Beginner","Advanced","Expert"],l=Object(n.useState)([{language:"",level:""}]),s=Object(o.a)(l,2),u=s[0],m=s[1],d=Object(n.useState)(!1),p=Object(o.a)(d,2),E=p[0],f=p[1],g=function(e,t){var a=e.target.name,n=e.target.value,r=Object(je.a)(u);r[t][a]=n,m(r)},b=function(e){return r.a.createElement(B.a,{container:!0,alignItems:"center",justify:"flex-end"},r.a.createElement(B.a,{item:!0,xs:12,sm:1,md:1},r.a.createElement(x.a,{className:a.removeIcon,component:"span",disabled:0===e.index&&1===u.length,onClick:function(){return function(e){var t=Object(je.a)(u);t.splice(e,1),m(t)}(e.index)}},r.a.createElement(xt.a,{fontSize:"large"}))),r.a.createElement(B.a,{item:!0,xs:5,sm:!0,md:!0},r.a.createElement(K.a,{component:"h1",variant:"h6"},"Language:")),r.a.createElement(B.a,{item:!0,xs:7,sm:4,md:4},r.a.createElement(J.a,{color:"secondary",fullWidth:!0,select:!0,margin:"dense",name:"language",onChange:function(t){return g(t,e.index)},value:e.item.language,label:E&&""===e.item.language?"Specify language":null,variant:"outlined",error:!(!E||""!==e.item.language)},r.a.createElement(_.a,{value:e.item.language},e.item.language),c.map((function(e,t){return u.map((function(e){return e.language})).includes(e)?null:r.a.createElement(_.a,{key:t,value:e},e)})))),r.a.createElement(B.a,{item:!0,xs:5,sm:!0,md:!0},r.a.createElement(K.a,{component:"h1",variant:"h6"},"Level:")),r.a.createElement(B.a,{item:!0,xs:7,sm:3,md:4},r.a.createElement(J.a,{fullWidth:!0,select:!0,margin:"dense",name:"level",onChange:function(t){return g(t,e.index)},value:e.item.level,label:E&&""===e.item.level?"Specify your skill level":null,variant:"outlined",error:!(!E||""!==e.item.level)},i.map((function(e,t){return r.a.createElement(_.a,{key:t,value:e},e)})))))};return r.a.createElement(gt,{gradient:!0},r.a.createElement(Et.a,{component:"main",maxWidth:"md"},r.a.createElement(dt.a,null),r.a.createElement(ht,{mt:12},r.a.createElement(q,null,"Add your exprerience here:"),r.a.createElement("form",{className:a.form},u.map((function(e,t){return r.a.createElement(b,{key:e+t,item:e,index:t})})),r.a.createElement(B.a,{container:!0,direction:"column"},r.a.createElement(B.a,{item:!0},r.a.createElement(y.a,{size:"large",type:"submit",variant:"text",color:"primary",className:a.add,disabled:u.length>=c.length,onClick:function(e){e.preventDefault(),m([].concat(Object(je.a)(u),[{language:"",level:""}])),f(!1)}},r.a.createElement(kt.a,{fontSize:"large"}),r.a.createElement("span",{display:"none",style:{marginLeft:".5rem"}},r.a.createElement(G.a,{display:{xs:"none",sm:"block"}},"Add language"),r.a.createElement(G.a,{display:{xs:"block",sm:"none"}},"Add")))),r.a.createElement(B.a,{item:!0},r.a.createElement(V,{onClick:function(e){e.preventDefault();for(var a=!0,n=0;n<u.length;n++)a=!!(u[n].language&&u[n].level&&a);a?Tt(u,t):f(!0)}},"Submit")))))))},Ut=a(84),Pt=a.n(Ut),Dt=Object(j.a)((function(e){return{number:{color:"#6E3ADB"}}}));function It(e){var t=e.years,a=e.reviews,n=e.rating,c=Dt();return r.a.createElement(B.a,{item:!0,container:!0,direction:"row",justify:"space-evenly",spacing:5},r.a.createElement(B.a,{item:!0},r.a.createElement(G.a,{fontSize:"h2.fontSize",textAlign:"center",className:c.number},t),r.a.createElement(G.a,{fontSize:"h6.fontSize",textAlign:"center",fontWeight:"fontWeightBold"},"years of experience")),r.a.createElement(B.a,{item:!0},r.a.createElement(G.a,{fontSize:"h2.fontSize",textAlign:"center",className:c.number},a),r.a.createElement(G.a,{fontSize:"h6.fontSize",textAlign:"center",fontWeight:"fontWeightBold"},"reviews")),r.a.createElement(B.a,{item:!0},r.a.createElement(G.a,{fontSize:"h2.fontSize",textAlign:"center",className:c.number},n),r.a.createElement(G.a,{fontSize:"h6.fontSize",textAlign:"center",fontWeight:"fontWeightBold"},"rating")))}var Ft=a(254),zt=a.n(Ft),Lt=a(255),Wt=a.n(Lt),Bt=a(256),Mt=a.n(Bt),Gt=a(257),qt=a.n(Gt),Ht=a(258),Vt=a.n(Ht),Jt=a(259),Kt=a.n(Jt),Yt=a(260),$t=a.n(Yt),Qt=a(261),Zt=a.n(Qt);var Xt=Object(j.a)((function(e){return{logo:{width:"100px",height:"100px"}}}));function ea(e){var t=e.skills,a=Xt(),n=function(e){switch(e){case"JavaScript":return Wt.a;case"Java":return Vt.a;case"PHP":return Kt.a;case"C++":return Mt.a;case"Python":return zt.a;case"Ruby":return qt.a;case"GoLang":return $t.a;case"C#":return Zt.a;default:return"No image"}};return t?r.a.createElement(B.a,{item:!0,container:!0,direction:"row",justify:"space-evenly",spacing:5},t.map((function(e){return r.a.createElement(B.a,{item:!0,key:e.language},r.a.createElement(G.a,null,r.a.createElement("img",{key:e.language,alt:e.language,src:n(e.language),className:a.logo})),r.a.createElement(G.a,{fontSize:"h6.fontSize",textAlign:"center"},function(e){switch(e){case 1:return"Beginner";case 2:return"Advanced";case 3:return"Expert";default:return 0}}(e.level)))}))):null}var ta=a(274),aa=a(262),na=a.n(aa),ra=Object(j.a)({dropzone:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",borderWidth:"2px",borderRadius:"2px",borderColor:function(e){return function(e){return e.isDragAccept?"#00e676":e.isDragReject?"#ff1744":e.isDragActive?"#2196f3":"#eeeeee"}(e)},borderStyle:"dashed",backgroundColor:"#fafafa",color:"#bdbdbd",outline:"none",transition:"border 0.24s ease-in-out"},thumbsContainer:{display:"flex",flexDirection:"row",flexWrap:"wrap",marginTop:16},thumb:{display:"inline-flex",borderRadius:2,border:"1px solid #eaeaea",marginBottom:8,marginRight:8,width:100,height:100,padding:4,boxSizing:"border-box"},thumbInner:{display:"flex",minWidth:0,overflow:"hidden"},img:{display:"block",width:"auto",height:"100%"},delete:{height:"50%"}});function ca(e){var t=e.files,a=e.setFiles,c=Object(ta.a)({accept:"image/*",maxSize:1e6,multiple:!1,onDrop:function(e){a(e.map((function(e){var t=new FileReader;return t.onabort=function(){return console.log("file reading was aborted")},t.onerror=function(){return console.log("file reading has failed")},t.onload=function(){var a=t.result;Object.assign(e,{bin:a})},t.readAsArrayBuffer(e),Object.assign(e,{preview:URL.createObjectURL(e)})})))}}),i=c.getRootProps,o=c.getInputProps,l=c.isDragActive,s=c.isDragAccept,u=c.isDragReject,m=ra({isDragActive:l,isDragAccept:s,isDragReject:u}),d=t.map((function(e){return r.a.createElement("div",{className:m.thumb,key:e.name},r.a.createElement("div",{className:m.thumbInner},r.a.createElement("img",{alt:e.name,src:e.preview,className:m.img})))}));return Object(n.useEffect)((function(){return function(){t.forEach((function(e){return URL.revokeObjectURL(e.preview)}))}}),[t]),r.a.createElement("section",{className:"container"},t.length<1?r.a.createElement("div",Object.assign({className:m.dropzone},i({})),r.a.createElement("input",o()),r.a.createElement("p",null,"Drag 'n' drop your new avatar here, or click to select files",r.a.createElement("br",null)," ","(Only one image file < 1mb in size)")):r.a.createElement("aside",{className:m.thumbsContainer},d,r.a.createElement(x.a,{className:m.delete,size:"small",onClick:function(e){e.preventDefault(),a([])}},r.a.createElement(na.a,null))))}function ia(e){var t=e.edit,a=e.name,n=e.position,c=e.company,i=e.editName,o=e.editPosition,l=e.editCompany,s=e.files,u=e.setFiles;return t?r.a.createElement(B.a,{item:!0,container:!0,direction:"column",spacing:3},r.a.createElement(B.a,{item:!0},r.a.createElement(G.a,{mt:7}),r.a.createElement(ca,{files:s,setFiles:u})),r.a.createElement(B.a,{item:!0},r.a.createElement(J.a,{fullWidth:!0,color:"primary",defaultValue:a,onChange:i,variant:"outlined",label:"Name",xs:6,error:!a,helperText:a?null:"Name cannot be blank!"})),r.a.createElement(B.a,{item:!0},r.a.createElement(J.a,{fullWidth:!0,color:"primary",defaultValue:c,onChange:l,variant:"outlined",label:"Company",xs:6})),r.a.createElement(B.a,{item:!0},r.a.createElement(J.a,{fullWidth:!0,color:"primary",defaultValue:n,onChange:o,variant:"outlined",label:"Position",xs:6}))):r.a.createElement(B.a,{item:!0},r.a.createElement(G.a,{mt:7},r.a.createElement(q,null,a),r.a.createElement(K.a,{variant:"subtitle1"},n&&c?"".concat(n," at ").concat(c):n?"".concat(n):c?"Works at ".concat(c):null)))}var oa=a(542),la=a(543),sa=a(33),ua=a.n(sa),ma=a(51),da=a.n(ma),pa=a(263),Ea=a.n(pa),fa=a(264),ga=a.n(fa),ba=a(155),va=a.n(ba),ha=Object(j.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},ratingColor:{fill:e.palette.primary.main},cardHeader:{minWidth:"260px"},comment:{fontStyle:"italic"},large:{width:e.spacing(7),height:e.spacing(7),margin:"0 auto"},mobileSpacing:{marginTop:e.spacing(1)}}})),Oa=function(e){var t=e.comments,a=ha(),c=Object(n.useState)(1),i=Object(o.a)(c,2),l=i[0],s=i[1],u=Object(S.a)(),m=Object(I.a)(u.breakpoints.down("xs")),d=3*l,p=d-3,E=t.slice(p,d),f=Math.ceil(t.length/3),g=function(e){var t=e.rating;return 1===t?r.a.createElement(r.a.Fragment,null,r.a.createElement(ua.a,{className:a.ratingColor}),r.a.createElement(da.a,{className:a.ratingColor}),r.a.createElement(da.a,{className:a.ratingColor}),r.a.createElement(da.a,{className:a.ratingColor}),r.a.createElement(da.a,{className:a.ratingColor})):2===t?r.a.createElement(r.a.Fragment,null,r.a.createElement(ua.a,{className:a.ratingColor}),r.a.createElement(ua.a,{className:a.ratingColor}),r.a.createElement(da.a,{className:a.ratingColor}),r.a.createElement(da.a,{className:a.ratingColor}),r.a.createElement(da.a,{className:a.ratingColor})):3===t?r.a.createElement(r.a.Fragment,null,r.a.createElement(ua.a,{className:a.ratingColor}),r.a.createElement(ua.a,{className:a.ratingColor}),r.a.createElement(ua.a,{className:a.ratingColor}),r.a.createElement(da.a,{className:a.ratingColor}),r.a.createElement(da.a,{className:a.ratingColor})):4===t?r.a.createElement(r.a.Fragment,null,r.a.createElement(ua.a,{className:a.ratingColor}),r.a.createElement(ua.a,{className:a.ratingColor}),r.a.createElement(ua.a,{className:a.ratingColor}),r.a.createElement(ua.a,{className:a.ratingColor}),r.a.createElement(da.a,{className:a.ratingColor})):r.a.createElement(r.a.Fragment,null,r.a.createElement(ua.a,{className:a.ratingColor}),r.a.createElement(ua.a,{className:a.ratingColor}),r.a.createElement(ua.a,{className:a.ratingColor}),r.a.createElement(ua.a,{className:a.ratingColor}),r.a.createElement(ua.a,{className:a.ratingColor}))},b=function(e){var t=e.totalPages,a=e.currentPage,n=e.handlePage;return t>=3?1===a?r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{disabled:!0},a),r.a.createElement(x.a,{onClick:function(){return n(a+1)}},a+1),r.a.createElement(x.a,{onClick:function(){return n(a+2)}},a+2)):a===t?r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{onClick:function(){return n(a-2)}},a-2),r.a.createElement(x.a,{onClick:function(){return n(a-1)}},a-1),r.a.createElement(x.a,{disabled:!0},a)):r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{onClick:function(){return n(a-1)}},a-1),r.a.createElement(x.a,{disabled:!0},a),r.a.createElement(x.a,{onClick:function(){return n(a+1)}},a+1)):2===t?1===a?r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{disabled:!0},a),r.a.createElement(x.a,{onClick:function(){return n(a+1)}},a+1)):r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{onClick:function(){return n(a-1)}},a-1),r.a.createElement(x.a,{disabled:!0},a)):r.a.createElement(x.a,{disabled:!0},a)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(q,null,"Comments"),r.a.createElement(Ve.a,{className:a.root},E.map((function(e,t){return r.a.createElement(r.a.Fragment,{key:t},m?r.a.createElement(G.a,{mt:4,mb:4},r.a.createElement(R.a,{src:e.avatar?e.avatar:Pt.a,className:a.large}),r.a.createElement(K.a,{variant:"subtitle1",className:a.mobileSpacing},e.name),r.a.createElement(K.a,{variant:"subtitle2"},e.position),r.a.createElement(g,{rating:e.embeddedReview.rating}),r.a.createElement(G.a,null,r.a.createElement(va.a,{color:"disabled"})),r.a.createElement(G.a,{fontSize:16,className:a.comment},e.comment)):r.a.createElement(Ke.a,{alignItems:"flex-start"},r.a.createElement(oa.a,{avatar:e.avatar?r.a.createElement(R.a,{src:e.avatar}):r.a.createElement(R.a,{src:Pt.a}),title:e.name,subheader:e.position?e.position:null,className:a.cardHeader}),r.a.createElement(la.a,null,r.a.createElement(g,{rating:e.embeddedReview.rating}),e.comment&&r.a.createElement(K.a,{className:a.comment,variant:"subtitle1"},r.a.createElement(G.a,{fontSize:16,ml:1},r.a.createElement(B.a,{item:!0,container:!0,direction:"row",xs:12,spacing:2},r.a.createElement(B.a,{item:!0,xs:1},r.a.createElement(va.a,{color:"disabled"})),r.a.createElement(B.a,{item:!0,xs:11},e.comment)))))))})),t.length?r.a.createElement(G.a,null,r.a.createElement(x.a,{disabled:1===l,onClick:function(){s(l-1)}},r.a.createElement(Ea.a,null)),r.a.createElement(b,{totalPages:f,currentPage:l,handlePage:function(e){s(e)}}),r.a.createElement(x.a,{disabled:l===f,onClick:function(){s(l+1)}},r.a.createElement(ga.a,null))):null))},ja=a(265),Sa=a.n(ja),Ca=a(266),wa=a.n(Ca),ya=a(24),xa=function(){var e=Object(L.a)(z.a.mark((function e(t,a){var n,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"UPDATE_USER_PROJECTS"}),e.prev=1,e.next=4,ya({url:"/api/user/projects",method:"POST",data:t.image,headers:{"Content-Type":"image/jpg"}});case 4:return e.next=6,ya({method:"POST",url:"/api/user/projects",data:t,headers:{"Content-Type":"application/json"}});case 6:n=e.sent,r=n.data,a({type:"UPDATE_USER_PROJECTS_SUCCESS",user:r}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),a({type:"UPDATE_USER_PROJECTS_ERROR",error:Object(m.a)({},e.t0)});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,a){return e.apply(this,arguments)}}(),Ra=function(){var e=Object(L.a)(z.a.mark((function e(t,a){var n,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"UPDATE_USER_PROJECTS"}),e.prev=1,e.next=4,ya({method:"DELETE",url:"/api/user/projects",data:{projectId:t}});case 4:n=e.sent,r=n.data,a({type:"UPDATE_USER_PROJECTS_SUCCESS",user:r}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),a({type:"UPDATE_USER_PROJECTS_ERROR",error:Object(m.a)({},e.t0)});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}(),ka=Object(j.a)((function(e){return{project:{width:"300px",height:"200px"},deleteButton:{"&:hover":{backgroundColor:"#e4ebfd",borderColor:"#000",color:e.palette.secondary.main}},addProject:{display:"flex",alignItems:"center",justifyContent:"center",border:"5px dashed #D3D3D3",borderRadius:"25px",width:"200px",height:"120px",padding:"40px",color:"#D3D3D3","&:hover":{backgroundColor:"#e4ebfd",borderColor:"#000",color:e.palette.secondary.main}},link:{"&:hover":{color:e.palette.primary.main}}}}));function _a(e){var t=e.projects,a=e.dispatch,c=e.showEdit,i=ka(),l=Object(n.useState)([]),s=Object(o.a)(l,2),u=s[0],m=s[1],d=Object(n.useState)(""),p=Object(o.a)(d,2),E=p[0],f=p[1],g=Object(n.useState)(""),b=Object(o.a)(g,2),v=b[0],h=b[1],O=Object(n.useState)(!1),j=Object(o.a)(O,2),S=j[0],C=j[1],w=Object(n.useState)(!1),R=Object(o.a)(w,2),k=R[0],_=R[1],T=Object(n.useState)(!1),N=Object(o.a)(T,2),A=N[0],U=N[1],P=r.a.createElement(B.a,{item:!0},r.a.createElement(G.a,{className:i.addProject,onClick:function(){C(!0)}},r.a.createElement("span",null,r.a.createElement(kt.a,{style:{fontSize:50}}),r.a.createElement(K.a,{variant:"h5",display:"block"},"Add new project")))),D=r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{item:!0},r.a.createElement(G.a,{mt:2,mb:1,fontSize:"h5.fontSize"},"Add new project here:")),r.a.createElement(B.a,{item:!0,container:!0,direction:"row",spacing:2},r.a.createElement(B.a,{item:!0,xs:6},r.a.createElement(ca,{files:u,setFiles:m})),r.a.createElement(B.a,{item:!0,container:!0,direction:"column",spacing:1,xs:6,alignItems:"stretch",justify:"center"},r.a.createElement(B.a,{item:!0},r.a.createElement(J.a,{fullWidth:!0,color:"primary",defaultValue:E,onChange:function(e){f(e.target.value)},variant:"outlined",label:"Title",xs:6,error:A&&!E,helperText:A&&!E?"Field cannot be blank!":null})),r.a.createElement(B.a,{item:!0},r.a.createElement(J.a,{fullWidth:!0,color:"primary",defaultValue:v,onChange:function(e){h(e.target.value)},variant:"outlined",label:"Link",xs:6,error:A,helperText:A?"Incorrect url: start with http(s)://":null,placeholder:"http(s)://"}))),r.a.createElement(B.a,{item:!0,container:!0,alignItems:"center",justify:"center",spacing:2},r.a.createElement(B.a,{item:!0},r.a.createElement(y.a,{variant:"contained",size:"small",color:"primary",onClick:function(){if(E&&v.match("^(http|https)://")){var e="";0!==u.length&&(e=u[0].bin),xa({title:E,link:v,image:e},a)}else U(!0)}},"Save project")),r.a.createElement(B.a,{item:!0},r.a.createElement(y.a,{variant:"contained",size:"small",onClick:function(){C(!1)}},"Cancel")))));return r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{item:!0},r.a.createElement(G.a,{mb:5},r.a.createElement(q,null,"Projects"))),r.a.createElement(B.a,{item:!0,container:!0,direction:"row",spacing:5,justify:"center"},t.map((function(e){return r.a.createElement(B.a,{item:!0,key:e._id,onMouseEnter:function(){return _(!0)},onMouseLeave:function(){return _(!1)}},r.a.createElement(G.a,null,r.a.createElement("img",{alt:"Code",src:e.image||Sa.a,className:i.project})),r.a.createElement(B.a,{container:!0,direction:"row",justify:"space-between"},r.a.createElement(B.a,{item:!0},r.a.createElement(G.a,{fontSize:"h5.fontSize",textAlign:"left"},e.title),r.a.createElement(G.a,{textAlign:"left"},r.a.createElement(pt.a,{href:e.link,variant:"body1",underline:"none",color:"inherit",className:i.link},e.link))),r.a.createElement(B.a,{item:!0},k&&!c?r.a.createElement(x.a,{onClick:function(){return t=e._id,void Ra(t,a);var t},className:i.deleteButton},r.a.createElement(wa.a,null)):null)))})),S||c?null:P),S&&D)}var Ta=a(267),Na=a.n(Ta),Aa=Object(j.a)((function(e){return{root:{position:"relative"},paper:{textAlign:"center",padding:"5vh",display:"flex",flexDirection:"column",justifyContent:"space-between",marginTop:e.spacing(12),marginBottom:e.spacing(12)},avatar:{width:e.spacing(18),height:e.spacing(18),position:"absolute",left:"50%",padding:0,margin:0,transform:"translate(-50%, -50%)",border:"3px solid #fff"},iconEdit:{color:"gray"},button:{margin:e.spacing(1)},divider:{marginRight:"-5vh",marginLeft:"-5vh",marginTop:e.spacing(5),marginBottom:e.spacing(5),alignSelf:"stretch"}}})),Ua=function(e){e.state;var t=e.dispatch,a=Object(n.useContext)(E),c=Object.assign({},a),i=Aa(),l=Object(n.useState)(!1),s=Object(o.a)(l,2),d=s[0],p=s[1],f=Object(n.useState)(null),g=Object(o.a)(f,2),b=g[0],v=g[1],h=Object(n.useState)(null),O=Object(o.a)(h,2),j=O[0],S=O[1],C=Object(n.useState)(null),w=Object(o.a)(C,2),x=w[0],k=w[1],_=Object(n.useState)(null),T=Object(o.a)(_,2),N=T[0],A=T[1],U=Object(n.useState)([]),P=Object(o.a)(U,2),D=P[0],I=P[1],F=Object(n.useState)([]),W=Object(o.a)(F,2),M=W[0],q=W[1],H=Object(n.useState)(null),V=Object(o.a)(H,2),J=V[0],K=V[1],Y=Object(n.useState)([]),$=Object(o.a)(Y,2),Q=$[0],Z=$[1],X=Object(n.useState)(null),ee=Object(o.a)(X,2),te=ee[0],ae=ee[1],ne=Object(n.useState)([]),re=Object(o.a)(ne,2),ce=re[0],ie=re[1],oe=Object(u.h)().userId,le=function(){p(!d)},se=Object(n.useCallback)(function(){var e=Object(L.a)(z.a.mark((function e(t){var a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===c.id){e.next=23;break}return e.next=3,fe(t);case 3:return a=e.sent,v(a.name),S(a.position),k(a.company),A(a.avatar),I(a.languages),q(a.projects),K(a.rating),e.t0=ae,e.next=14,ge(t);case 14:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=ie,e.next=19,be(t);case 19:e.t3=e.sent,(0,e.t2)(e.t3),e.next=38;break;case 23:return v(c.name),S(c.position),k(c.company),K(c.rating),e.t4=ie,e.next=30,be(c.id);case 30:return e.t5=e.sent,(0,e.t4)(e.t5),q(c.projects),e.t6=ae,e.next=36,ge(c.id);case 36:e.t7=e.sent,(0,e.t6)(e.t7);case 38:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[c.company,c.id,c.name,c.position,c.projects,c.rating]);Object(n.useEffect)((function(){se(oe)}),[oe,se]);var ue=null;return ue=oe===c.id?c.languages.reduce((function(e,t){return e+t.level}),0):D.reduce((function(e,t){return e+t.level}),0),r.a.createElement(gt,{solid:!0},r.a.createElement(G.a,{flexWrap:"nowrap",width:"100%"},r.a.createElement(B.a,{container:!0,direction:"column"},r.a.createElement(B.a,{item:!0},r.a.createElement(Et.a,{component:"main",maxWidth:"md",className:i.root},oe===c.id?r.a.createElement(R.a,{alt:"Profile image",src:c.avatar||Pt.a,className:i.avatar}):r.a.createElement(R.a,{alt:"Profile image",src:N||Pt.a,className:i.avatar}),r.a.createElement(bt.a,{className:i.paper},r.a.createElement(B.a,{item:!0,container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(ia,{edit:d,name:b,position:j,company:x,editName:function(e){return v(e.target.value)},editPosition:function(e){return S(e.target.value)},editCompany:function(e){return k(e.target.value)},files:Q,setFiles:Z}),oe===c.id?r.a.createElement(B.a,{item:!0,xs:1},!d&&r.a.createElement(Na.a,{fontSize:"large",className:i.iconEdit,onClick:le}),d&&r.a.createElement(y.a,{variant:"contained",size:"small",className:i.button,onClick:function(e){var a;e.preventDefault(),Q.length&&(a=Q[0].bin,function(){var e=Object(L.a)(z.a.mark((function e(t){var n,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCH"}),e.prev=1,e.next=4,pe({url:"/api/user/me/avatar",method:"POST",data:a,headers:{"Content-Type":"image/jpg"}});case 4:n=e.sent,r=n.data,t({type:"CREATE_USER_AVATAR_SUCCESS",user:r}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t({type:"CREATE_USER_AVATAR_ERROR",error:Object(m.a)({},e.t0)});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}())(t),b&&function(e){return function(){var t=Object(L.a)(z.a.mark((function t(a){var n,r;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"FETCH"}),t.prev=1,t.next=4,pe({url:"/api/user/me",method:"PUT",data:e,headers:{"Content-Type":"application/json"}});case 4:n=t.sent,r=n.data,a({type:"EDIT_USER_SUCCESS",user:r}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a({type:"EDIT_USER_ERROR",error:Object(m.a)({},t.t0)});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}({name:b,position:j,company:x})(t),le()}},"Save")):null,r.a.createElement(Je.a,{className:i.divider,light:!0}),r.a.createElement(It,{years:ue,reviews:te,rating:J?J.toFixed(1):null}),r.a.createElement(Je.a,{className:i.divider,light:!0}),r.a.createElement(ea,{skills:oe===c.id?c.languages:D}),oe!==c.id&&0===M.length?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(Je.a,{className:i.divider,light:!0}),r.a.createElement(_a,{projects:M,dispatch:t,showEdit:oe!==c.id})),ce.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(Je.a,{className:i.divider,light:!0}),r.a.createElement(Oa,{comments:ce})):null)))))))},Pa=a(83),Da=a(49),Ia=a(555),Fa=a(269),za=a.n(Fa),La=a(554),Wa=a(546),Ba=a(544),Ma=function(){var e=Object(L.a)(z.a.mark((function e(t,a,n){var r,c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:"STATUS_SENT"}),e.next=4,_e()({method:"POST",data:{isAccepted:t,requestId:a},withCredentials:!0,url:"/api/user/request"});case 4:r=e.sent,c=r.data,n(t?{type:"STATUS_ACCEPTED",status:"accepted",selectedReviewer:c}:{type:"STATUS_DECLINED",status:"declined",selectedReviewerId:null}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),n({type:"STATUS_ERROR",error:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a,n){return e.apply(this,arguments)}}(),Ga=function(e){var t=e.status,a=e.dispatch,c=e.requestId,i=e.selectedReviewer,o=Object(n.useContext)(E),l=function(){var e=Object(L.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ma(!0,c,a);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(L.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ma(!1,c,a);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return"pending"===t&&i&&o.id===i?r.a.createElement(Ba.a,null,r.a.createElement(y.a,{color:"primary",variant:"contained",onClick:function(){return l()}},"Accept"),r.a.createElement(y.a,{color:"primary",variant:"outlined",onClick:function(){return s()}},"Decline")):null},qa=function(){var e=Object(L.a)(z.a.mark((function e(t,a,n){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_e()({method:"POST",data:{reviewId:t,message:JSON.stringify(a)},withCredentials:!0,url:"/api/user/request/message"});case 3:r=e.sent,n({type:"SEND_MESSAGE_SUCCESS",review:r.data.embeddedReview,requestId:r.data.requestId}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n({type:"SEND_MESSAGE_ERROR",error:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a,n){return e.apply(this,arguments)}}(),Ha=Object(j.a)((function(e){return{messageBtn:{paddingTop:0,paddingBottom:0}}})),Va=function(e){var t=e.dispatch,a=e.reviewId,c=e.status,i=e.language,l=e.userOwner,s=e.selectedReviewer,u=Ha(),m=Object(n.useState)(!1),d=Object(o.a)(m,2),p=d[0],f=d[1],g=Object(n.useState)(!1),b=Object(o.a)(g,2)[1],v=Object(n.useContext)(E),h=function(){var e=Object(L.a)(z.a.mark((function e(n){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!1),e.next=3,qa(a,n.text,t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return"accepted"===c&&(v.id===l||s&&v.id===s)?r.a.createElement(r.a.Fragment,null,r.a.createElement(la.a,null,r.a.createElement(K.a,null,"Write message: "),r.a.createElement(le,{language:i,makeSubmit:p,onSubmit:h,hasContent:function(e){b(e)}})),r.a.createElement(la.a,{className:u.messageBtn},r.a.createElement(y.a,{color:"primary",variant:"contained",onClick:function(){f(!0)}},"Submit"))):null},Ja=a(87),Ka=a.n(Ja),Ya=a(143),$a=a(24),Qa=function(){var e=Object(L.a)(z.a.mark((function e(t){var a,n,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCH_REVIEWS"}),a={method:"post",url:"/api/user/reviews"},e.prev=2,e.next=5,Ya.postToAPI(a);case 5:n=e.sent,r=n.data,t({type:"FETCH_REVIEWS_SUCCESS",reviews:r.reviews,requests:r.embeddedReviewArray}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),t({type:"FETCH_REVIEWS_ERROR",error:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),Za=function(){var e=Object(L.a)(z.a.mark((function e(t,a){var n,r,c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"FETCH_REQUEST"}),n={method:"post",url:"/api/user/reviews",data:{singleTarget:!0,reviewId:t}},e.prev=2,e.next=5,Ya.postToAPI(n);case 5:r=e.sent,c=r.data,a({type:"FETCH_REQUEST_SUCCESS",status:c.request.status,review:c.request.embeddedReview,requestId:c.request._id,selectedReviewer:c.reviewer,selectedReviewerId:c.request.selectedReviewer,userOwner:c.request.userOwner,reviewOwner:c.reviewOwner}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),a({type:"FETCH_REQUEST_ERROR",error:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,a){return e.apply(this,arguments)}}(),Xa=function(){var e=Object(L.a)(z.a.mark((function e(t,a,n,r){var c,i;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:"COMPLETE_REVIEW"}),e.prev=1,e.next=4,$a({method:"POST",url:"/api/user/reviews/rate-review",data:{reviewId:t,rating:a,comment:n}});case 4:c=e.sent,i=c.status,r({type:"COMPLETE_REVIEW_SUCCESS",status:i}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),r({type:"COMPLETE_REVIEW_ERROR",error:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a,n,r){return e.apply(this,arguments)}}(),en=Object(j.a)((function(e){return{submit:{marginTop:e.spacing(2)},ratings:{marginBottom:e.spacing(2)},icon:{color:e.palette.primary.main,borderRadius:"50%",cursor:"pointer",marginRight:e.spacing(1),maxHeight:"27px",maxWidth:"27px"},text:{marginBottom:e.spacing(2)},textHeight:{minHeight:"27px"}}})),tn=function(e){var t=e.open,a=e.handleClose,c=e.reviewId,i=e.dispatch,l=en(),s={color:"#43DDC1",borderRadius:"50%",cursor:"pointer"},u={background:"#43DDC1"},m=Object(n.useState)(s),d=Object(o.a)(m,2),p=d[0],E=d[1],f=Object(n.useState)(s),g=Object(o.a)(f,2),b=g[0],v=g[1],h=Object(n.useState)(s),O=Object(o.a)(h,2),j=O[0],S=O[1],C=Object(n.useState)(s),w=Object(o.a)(C,2),x=w[0],R=w[1],k=Object(n.useState)(s),_=Object(o.a)(k,2),T=_[0],N=_[1],A=Object(n.useState)(""),U=Object(o.a)(A,2),P=U[0],D=U[1],I=Object(n.useState)(""),F=Object(o.a)(I,2),H=F[0],V=F[1],Y=Object(n.useState)(!1),$=Object(o.a)(Y,2),Q=$[0],Z=$[1],X=Object(n.useState)(1),ee=Object(o.a)(X,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(""),re=Object(o.a)(ne,2),ce=re[0],ie=re[1],oe=function(e){Q&&(Z(!1),E(s),v(s),S(s),R(s),N(s),V(""),D("")),1===e?(E(u),D("Useless :(")):2===e?(E(u),v(u),D("Could be better")):3===e?(E(u),v(u),S(u),D("That's ok")):4===e?(E(u),v(u),S(u),R(u),D("Great Review!")):(E(u),v(u),S(u),R(u),N(u),D("Outstanding!!! :)"))},le=function(e){1!==e||Q?2!==e||Q?3!==e||Q?4!==e||Q?5!==e||Q||(E(s),v(s),S(s),R(s),N(s),D("")):(E(s),v(s),S(s),R(s),D("")):(E(s),v(s),S(s),D("")):(E(s),v(s),D("")):(E(s),D(""))},se=function(e){Z(!0),1===e?(E(u),V("Useless :(")):2===e?(E(u),v(u),V("Could be better")):3===e?(E(u),v(u),S(u),V("That's ok")):4===e?(E(u),v(u),S(u),R(u),V("Great Review!")):(E(u),v(u),S(u),R(u),N(u),V("Outstanding!!! :)")),ae(e)},ue=function(){var e=Object(L.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xa(c,te,ce,i);case 2:a();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(W.a,{fullWidth:!0,maxWidth:"md",onClose:a,open:t},r.a.createElement(M.a,null,r.a.createElement(q,null,"Rate this review"),r.a.createElement(G.a,{mt:3,mb:5,pl:5,pr:5},r.a.createElement(B.a,{container:!0},r.a.createElement(B.a,{item:!0,xs:12,container:!0,justify:"center",className:l.ratings},r.a.createElement(Ka.a,{className:l.icon,fontSize:"large",onMouseEnter:function(){return oe(1)},onMouseLeave:function(){return le(1)},onClick:function(){return se(1)},style:p}),r.a.createElement(Ka.a,{className:l.icon,fontSize:"large",onMouseEnter:function(){return oe(2)},onMouseLeave:function(){return le(2)},onClick:function(){return se(2)},style:b}),r.a.createElement(Ka.a,{className:l.icon,fontSize:"large",onMouseEnter:function(){return oe(3)},onMouseLeave:function(){return le(3)},onClick:function(){return se(3)},style:j}),r.a.createElement(Ka.a,{className:l.icon,fontSize:"large",onMouseEnter:function(){return oe(4)},onMouseLeave:function(){return le(4)},onClick:function(){return se(4)},style:x}),r.a.createElement(Ka.a,{className:l.icon,fontSize:"large",onMouseEnter:function(){return oe(5)},onMouseLeave:function(){return le(5)},onClick:function(){return se(5)},style:T})),r.a.createElement(B.a,{item:!0,xs:12,container:!0,justify:"center",className:l.text},r.a.createElement(K.a,{component:"h5",variant:"h5",className:l.textHeight},Q?H:P)),r.a.createElement(B.a,{item:!0,xs:12},r.a.createElement(J.a,{multiline:!0,fullWidth:!0,rows:6,placeholder:"Write your comment here...",variant:"outlined",onChange:function(e){return ie(e.target.value)}})),r.a.createElement(B.a,{item:!0,xs:12,container:!0,justify:"center"},r.a.createElement(y.a,{color:"primary",variant:"contained",className:l.submit,onClick:ue},"Submit"))))))},an=function(e){var t=new Date(e),a=t.getDate();return(a<=9?""+a:a)+" "+["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()]+" "+t.getFullYear()},nn=a(545),rn=Object(j.a)((function(e){return{backdrop:{position:"fixed",top:"50%",left:"50%"}}}));function cn(){var e=rn();return r.a.createElement("div",{className:e.backdrop,open:!0},r.a.createElement(nn.a,null))}var on=Object(j.a)((function(e){return{request:{borderRadius:"0px",overflow:"scroll"},message:{overflow:"scroll",maxHeight:"15em"},headerDate:{paddingTop:0,display:"flex",justifyContent:"space-between"},header:{cursor:"pointer"}}})),ln={status:"",review:null,requestId:"",selectedReviewer:null,loading:!1,error:null},sn=function(e,t){switch(t.type){case"FETCH_REQUEST":return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case"FETCH_REQUEST_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{status:t.status,review:t.review,requestId:t.requestId,loading:!1,selectedReviewer:t.selectedReviewer,selectedReviewerId:t.selectedReviewerId,userOwner:t.userOwner,reviewOwner:t.reviewOwner});case"FETCH_REQUEST_ERROR":return Object(m.a)(Object(m.a)({},e),{},{error:t.error,loading:!1});case"SEND_MESSAGE":return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case"SEND_MESSAGE_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,review:t.review,requestId:t.requestId});case"SEND_MESSAGE_ERROR":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,error:t.error});case"STATUS_SENT":return Object(m.a)(Object(m.a)({},e),{},{laoding:!0});case"STATUS_ACCEPTED":return Object(m.a)(Object(m.a)({},e),{},{status:t.status,selectedReviewer:t.selectedReviewer});case"STATUS_DECLINED":return Object(m.a)(Object(m.a)({},e),{},{status:t.status,selectedReviewerId:t.selectedReviewerId});case"STATUS_ERROR":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,error:t.error});case"RESET_CHANGED_STATUS":return Object(m.a)(Object(m.a)({},e),{},{requestId:t.requestId});case"NEW_MESSAGE":return Object(m.a)(Object(m.a)({},e),{},{review:t.review,selectedReviewer:t.selectedReviewer,reviewOwner:t.reviewOwner,status:t.status});case"COMPLETE_REVIEW":return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case"COMPLETE_REVIEW_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,status:t.status});case"COMPLETE_REVIEW_ERROR":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,error:t.error});default:throw new Error("Something went wrong")}},un=function(){var e=on(),t=Object(n.useReducer)(sn,ln),a=Object(o.a)(t,2),c=a[0],i=a[1],l=Object(n.useState)(!1),s=Object(o.a)(l,2)[1],m=Object(u.h)().reviewId,d=Object(n.useContext)(E),p=Object(n.useState)(!1),f=Object(o.a)(p,2),g=f[0],b=f[1],v=Object(u.g)();Object(n.useEffect)((function(){m&&(function(){var e=Object(L.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Za(m,i);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),Re.messages(m))}),[m]),Object(n.useEffect)((function(){return Re.subscribe("messages",(function(e){var t=e.newMessage,a=e.reviewOwner,n=e.selectedReviewer;t.embeddedReview._id===m&&i({type:"NEW_MESSAGE",review:t.embeddedReview,selectedReviewer:n,reviewOwner:a,status:t.status})})),function(){return Re.unsubscribe("messages")}}),[m]);var h=function(t){var a=t.index,n=t.selectedReviewer,c=t.messageOwner,i=t.reviewOwner;if(a){var o=c===i._id&&i.avatar?i.avatar:c===i._id?i.name[0]:n.avatar?n.avatar:n.name[0];return r.a.createElement(oa.a,{avatar:1===o.length?r.a.createElement(R.a,null,o):r.a.createElement(R.a,{src:o}),title:c===i._id?i.name:n.name,subheader:c===i._id&&i.position?i.position:c===i._id?"Not specified":n.position?n.position:"Not specified",onClick:function(){c===i._id?v.push("/profile/".concat(i._id)):v.push("/profile/".concat(n._id))},className:e.header})}return r.a.createElement(r.a.Fragment,null)},O=function(e){s(e)};return c.loading?r.a.createElement(cn,null):r.a.createElement("div",{className:e.request},r.a.createElement(tn,{open:g,handleClose:function(e){b(!1)},reviewId:m,dispatch:i}),c.review?r.a.createElement(r.a.Fragment,null,r.a.createElement(oa.a,{title:c.review.title}),r.a.createElement(la.a,{className:e.headerDate},r.a.createElement(K.a,{component:"h5"},an(c.review.reviewCreatedDate)),c.userOwner===d.id&&"accepted"===c.status?r.a.createElement(y.a,{size:"small",color:"secondary",variant:"contained",onClick:function(){b(!0)}},"Complete Review"):null),r.a.createElement(Je.a,{light:!0}),c.review.messages.map((function(t,a){return r.a.createElement(r.a.Fragment,{key:t._id},r.a.createElement(h,{index:a,messageOwner:t.messagePostedBy,selectedReviewer:c.selectedReviewer?c.selectedReviewer:null,reviewOwner:c.reviewOwner}),r.a.createElement(la.a,{className:e.message},r.a.createElement(le,{language:c.review.language,hasContent:O,readOnly:!0,content:JSON.parse(t.message)})))})),r.a.createElement(Va,{reviewId:m,dispatch:i,status:c.status,language:c.review.language,userOwner:c.userOwner,selectedReviewer:c.selectedReviewerId}),r.a.createElement(Ga,{status:c.status,dispatch:i,requestId:c.requestId,selectedReviewer:c.selectedReviewerId})):c.error)},mn=Object(j.a)((function(e){var t;return{root:{display:"flex",flexGrow:1},margin:{margin:e.spacing(1)},fabClose:{position:"absolute",bottom:e.spacing(2),right:e.spacing(2)},fabOpen:{position:"fixed",bottom:e.spacing(2),left:e.spacing(2)},innerContainer:{position:"relative",height:"100%"},drawer:(t={},Object(Pa.a)(t,e.breakpoints.up("sm"),{width:320,flexShrink:0}),Object(Pa.a)(t,"background",e.palette.background.solid),t),menuButton:Object(Pa.a)({marginLeft:e.spacing(1)},e.breakpoints.up("sm"),{display:"none"}),drawerPaper:{width:320,borderRight:"1px #D3D3D3 solid"},content:{flexGrow:1,padding:e.spacing(3),background:e.palette.background.solid,height:"100vh",overflowY:"auto"},card:{minWidth:"100%"},reviews:{margin:e.spacing(2),padding:e.spacing(2),overflow:"auto",cursor:"pointer"},selectedReviewPaper:{border:"solid ".concat(e.palette.primary.main," 1px")},selectedTab:{backgroundColor:"gray",padding:e.spacing(6)},unselectedTab:{padding:e.spacing(6)},reviewPanel:{margin:e.spacing(3)},link:{textDecoration:"none"}}})),dn={reviews:[],loading:!1,error:null},pn=function(e,t){switch(t.type){case"FETCH_REVIEWS":return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case"FETCH_REVIEWS_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,reviews:t.reviews,requests:t.requests});case"FETCH_REVIEWS_ERROR":return Object(m.a)(Object(m.a)({},e),{},{loading:!1,error:t.error});default:throw new Error("Something went wrong")}};function En(e){var t=e.window,a=mn(),c=Object(S.a)(),i=r.a.useState(!1),l=Object(o.a)(i,2),u=l[0],d=l[1],p=function(){d(!u)},E=Object(n.useReducer)(pn,dn),f=Object(o.a)(E,2),g=f[0],b=f[1],v=Object(n.useState)(!1),h=Object(o.a)(v,2),O=h[0],j=h[1],C=Object(n.useState)({reviews:!0,requests:!1}),w=Object(o.a)(C,2),y=w[0],x=w[1],R=r.a.useState(0),k=Object(o.a)(R,2),_=k[0],T=k[1];Object(n.useEffect)((function(){N()}),[]);var N=function(){var e=Object(L.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qa(b);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(e,t,a){j(t)},U=function(e){return r.a.createElement("div",{key:e.reviewId,selected:O===e.index,onClick:function(t){return A(0,e.index)}},r.a.createElement(K.a,{color:"textPrimary",gutterBottom:!0,compoment:"h1",variant:"h6"},e.reviewTitle),r.a.createElement(K.a,{className:a.title,color:"textSecondary",gutterBottom:!0},an(e.date)))},P=g.loading?r.a.createElement(cn,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,{mt:8},r.a.createElement(bt.a,null,r.a.createElement(La.a,{value:_,onChange:function(e,t){T(t);var a=Object(m.a)({},y);0===t?(a.reviews=!0,a.requests=!1):(a.reviews=!1,a.requests=!0),x(a)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth"},r.a.createElement(Wa.a,{label:"Reviews(".concat(g.reviews?g.reviews.length:0,")")}),r.a.createElement(Wa.a,{label:"Requests(".concat(g.requests?g.requests.length:0,")")}))),function(e){var t=e.reviews?"reviews":"requests";return Array.isArray(g[t])?g[t].map((function(e,t){return r.a.createElement(s.b,{to:"/reviews/".concat(e._id),key:t,className:a.link},r.a.createElement(bt.a,{variant:"outlined",className:O===t?[a.selectedReviewPaper,a.reviews].join(" "):a.reviews,onClick:function(e){return A(0,t)}},r.a.createElement(U,{index:t,reviewId:e._id,reviewTitle:e.title,date:e.reviewCreatedDate})))})):g.error}(y))),D=void 0!==t?function(){return t().document.body}:void 0;return r.a.createElement("div",{className:a.root},r.a.createElement("nav",{className:a.drawer,"aria-label":"review request tabs"},r.a.createElement(Ia.a,{smUp:!0,implementation:"css"},r.a.createElement(He.a,{size:"medium",color:"secondary","aria-label":"add",onClick:p,className:a.fabOpen},r.a.createElement(it.a,{style:{fontSize:30}})),r.a.createElement(Da.a,{container:D,variant:"persistent",anchor:"rtl"===c.direction?"right":"left",open:u,onClose:p,classes:{paper:a.drawerPaper},ModalProps:{keepMounted:!0}},P,r.a.createElement("div",{className:a.innerContainer},r.a.createElement(He.a,{size:"medium",color:"secondary","aria-label":"add",onClick:p,className:a.fabClose},r.a.createElement(za.a,null))))),r.a.createElement(Ia.a,{xsDown:!0,implementation:"css"},r.a.createElement(Da.a,{classes:{paper:a.drawerPaper},variant:"permanent",open:!0},P))),r.a.createElement("main",{className:a.content},r.a.createElement(bt.a,{className:a.reviewPanel},r.a.createElement(un,null))))}var fn=a(271),gn=a.n(fn),bn=a(270),vn=a.n(bn),hn=a(99),On=Object(j.a)((function(e){return{form:{width:"100%",textAlign:"center"},formChild:{margin:e.spacing(2),padding:"12px",maxWidth:"220px",minWidth:"160px",border:"1px solid #D3D3D3",borderRadius:"20px"},formTypography:{margin:e.spacing(2),padding:e.spacing(1)},divider:{marginRight:e.spacing(-5),marginLeft:e.spacing(-5),alignSelf:"stretch"},button:{maxWidth:"30px",maxHeight:"30px",minWidth:"30px",minHeight:"30px",backgroundColor:"#e4ebfd",color:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.main,color:"#FFF"}}}})),jn=function(e){var t,a,c=e.state,i=e.dispatch,l=On(),s=null===c||void 0===c||null===(t=c.cart)||void 0===t||null===(a=t.find((function(e){return e.name===hn.reviewCredits.name})))||void 0===a?void 0:a.quantity,d=Object(n.useContext)(E),p=Object(n.useState)((function(){return s||hn.reviewCredits.quantity})),f=Object(o.a)(p,2),g=f[0],b=f[1],h=Object(u.g)(),O=function(e){var t=e.target,a=(Object(v.a)(e,["target"]),t.closest("button").id);return"incr"===a?b((function(){return g+1})):"decr"===a&&g>0?b(g-1):void 0},j=function(){var e=Object(L.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i({type:"ADD_ITEM_TO_CART",item:Object(m.a)(Object(m.a)({},hn.reviewCredits),{},{quantity:g})}),h.push("/checkout");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(gt,{solid:!0},r.a.createElement(Et.a,{component:"main",maxWidth:"sm"},r.a.createElement(dt.a,null),r.a.createElement(ht,{mt:20},r.a.createElement(q,null,"Your Balance:"),r.a.createElement(K.a,{component:"p",variant:"h5",color:"secondary",paragraph:!0},d.balance," credits"),r.a.createElement(Je.a,{className:l.divider,light:!0}),r.a.createElement("form",{className:l.form},r.a.createElement(K.a,{className:l.formTypography,component:"h2",variant:"h5"},"Top Up:"),r.a.createElement(K.a,{variant:"body1"},"$",hn.reviewCredits.unitCost," per Credit"),r.a.createElement(B.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center"},r.a.createElement(G.a,{className:l.formChild},r.a.createElement(B.a,{container:!0,direction:"row",alignItems:"center",alignContent:"center",justify:"space-between",style:{display:"flex"},wrap:"nowrap"},r.a.createElement(B.a,{item:!0},r.a.createElement(y.a,{onClick:O,id:"decr",variant:"contained",size:"small",disabled:c.loading||!g,"aria-label":"Subtract Credit",className:l.button},r.a.createElement(vn.a,null))),r.a.createElement(B.a,{item:!0},r.a.createElement(K.a,{"aria-label":"Credits to Purchase",component:"h2",variant:"h6"},g)),r.a.createElement(B.a,{item:!0},r.a.createElement(y.a,{onClick:O,id:"incr",variant:"contained",size:"small",disabled:c.loading,"aria-label":"Add Credit",className:l.button},r.a.createElement(gn.a,null)))))),r.a.createElement(V,{variant:"contained",color:"primary",disabled:c.loading||0===g,onClick:j},"Checkout")))))},Sn=a(547),Cn=a(548),wn=a(549),yn=a(550),xn=a(551),Rn=a(85),kn=a(272),_n=Object(j.a)({formChild:{padding:"12px",border:"1px",borderStyle:"solid",borderColor:function(e){return function(e){return e.checkoutError?"#ff3d00":"#eeeeee"}(e)},borderRadius:"5px"},error:{color:"#ff3d00"}}),Tn=function(e){var t=e.price,a=e.onSuccessfulCheckout,c=Object(n.useState)(!1),i=Object(o.a)(c,2),l=i[0],s=i[1],u=Object(n.useState)(),m=Object(o.a)(u,2),d=m[0],p=m[1],E=_n({checkoutError:d}),f=Object(Rn.useStripe)(),g=Object(Rn.useElements)(),b=function(){var e=Object(L.a)(z.a.mark((function e(n){var r,c,i,o,l,u;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),s(!0),r=g.getElement("card"),e.prev=3,e.next=6,_e.a.post("/api/payment/",{amount:100*t});case 6:return c=e.sent,i=c.data,e.next=10,f.createPaymentMethod({type:"card",card:r});case 10:if(!(o=e.sent).error){e.next=15;break}return p(o.error.message),s(!1),e.abrupt("return");case 15:return e.next=17,f.confirmCardPayment(i,{payment_method:o.paymentMethod.id});case 17:if(l=e.sent,!(u=l.error)){e.next=23;break}return p(u.message),s(!1),e.abrupt("return");case 23:a(),e.next=29;break;case 26:e.prev=26,e.t0=e.catch(3),p(e.t0.message);case 29:case"end":return e.stop()}}),e,null,[[3,26]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("form",{onSubmit:b},r.a.createElement(B.a,{container:!0,direction:"column"},r.a.createElement(B.a,{item:!0},r.a.createElement(G.a,{className:E.formChild},r.a.createElement(Rn.CardElement,{options:{iconStyle:"solid",style:{base:{fontWeight:500,fontSize:"16px",fontSmoothing:"antialiased"},invalid:{iconColor:"#ffc7ee",color:"#ffc7ee"}},hidePostalCode:!0},onChange:function(e){e.error?p(e.error.message):p()}})),d&&r.a.createElement(K.a,{variant:"caption",display:"block",gutterBottom:!0,className:E.error},d)),r.a.createElement(B.a,{item:!0,container:!0,justify:"center"},r.a.createElement(V,{disabled:l||!f},l?"Processing...":"Pay $".concat(t)))))},Nn=Object(kn.a)("pk_test_51HKme9FHPZChBCCstiGNkJ98SlG0jSuo1xPJpe895mp5eLkAiBEvjL4CgkjVw9wazUPUODqNWpL0iFXPGV3CyFxS00ah2pylSn"),An=Object(j.a)((function(e){return{total:{padding:e.spacing(1)},stripeForm:{margin:e.spacing(2),padding:e.spacing(1)}}})),Un=function(e){var t=e.state,a=e.dispatch,c=An(),i=Object(u.g)();!function(e){Object(n.useEffect)((function(){return e({type:"FINISH_LOAD"})}),[e])}(a);var o,l=t.cart[0].unitCost*t.cart[0].quantity;return r.a.createElement(gt,{solid:!0},r.a.createElement(Et.a,{component:"main",maxWidth:"sm"},r.a.createElement(dt.a,null),r.a.createElement(ht,{mt:20},r.a.createElement(q,null,"Checkout"),r.a.createElement("h2",null,"Cart:"),(o=t.cart,r.a.createElement(r.a.Fragment,null,r.a.createElement(Sn.a,{"aria-label":"Shopping Cart"},r.a.createElement(Cn.a,null,r.a.createElement(wn.a,null,r.a.createElement(yn.a,null,"Item"),r.a.createElement(yn.a,null,"Quantity"),r.a.createElement(yn.a,null,"Unit Cost"),r.a.createElement(yn.a,null,"Item Cost"))),r.a.createElement(xn.a,null,o.map((function(e){return r.a.createElement(wn.a,{key:e.name},r.a.createElement(yn.a,null,e.name),r.a.createElement(yn.a,null,e.quantity),r.a.createElement(yn.a,null,"$",e.unitCost),r.a.createElement(yn.a,null,"$",e.unitCost*e.quantity))})))))),r.a.createElement(K.a,{className:c.total,variant:"h6",component:"h2"},"Total: $",t.cart.reduce((function(e,t){return e+t.quantity*t.unitCost}),0)),r.a.createElement(Et.a,{className:c.stripeForm},r.a.createElement(Rn.Elements,{stripe:Nn},r.a.createElement(Tn,{price:l,onSuccessfulCheckout:function(){var e=t.cart[0].quantity;he(t.user.id,e,a),i.push("/balance")}}))))))};a(470);var Pn=function(){var e=Object(n.useReducer)(d,{},p),t=Object(o.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){return function(){var e=Object(L.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCH"}),e.next=3,_e()({method:"GET",withCredentials:!0,url:"/api/user/me"}).then((function(e){Re.login(e.data.id),t({type:"FETCH_USER_SUCCESS",user:e.data})})).catch((function(e){t({type:"FETCH_USER_ERROR",error:Object(m.a)({},e)})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(c),function(){return c("FINISH_LOAD")}}),[c]),r.a.createElement(E.Provider,{value:a.user},r.a.createElement(f.Provider,{value:a.loading},r.a.createElement(l.a,{theme:b},a.loading?r.a.createElement(cn,null):r.a.createElement(s.a,null,r.a.createElement(O,{condition:function(){return a.user.id&&0!==a.user.languages.length}},r.a.createElement(ut,{state:a,dispatch:c})),r.a.createElement(u.d,null,r.a.createElement(h,{condition:function(){return!a.user.id},path:"/signup",redirect:"/onboard"},r.a.createElement(wt,{state:a,dispatch:c})),r.a.createElement(h,{condition:function(){return!a.user.id},path:"/login",redirect:"/onboard"},r.a.createElement(jt,{state:a,dispatch:c})),r.a.createElement(h,{condition:function(){return a.user.id&&0===a.user.languages.length},path:"/onboard",redirect:"/profile/".concat(a.user.id)},r.a.createElement(At,{state:a,dispatch:c})),r.a.createElement(u.b,{exact:!0,path:"/"},r.a.createElement(u.a,{to:"/profile/".concat(a.user.id)})),r.a.createElement(h,{condition:function(){return a.user.id},path:"/profile/:userId"},r.a.createElement(Ua,{state:a,dispatch:c})),r.a.createElement(h,{condition:function(){return a.user.id},path:"/reviews/:reviewId?"},r.a.createElement(En,{state:a,dispatch:c})),r.a.createElement(h,{condition:function(){return a.user.id},path:"/balance"},r.a.createElement(jn,{state:a,dispatch:c})),r.a.createElement(h,{condition:function(){var e;return a.user.id&&(null===(e=a.cart)||void 0===e?void 0:e.length)},path:"/checkout",redirect:"/balance"},r.a.createElement(Un,{state:a,dispatch:c})))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(Pn,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},84:function(e,t,a){e.exports=a.p+"static/media/avatar.8cb04c92.png"},99:function(e,t){e.exports={reviewCredits:{name:"Review Credits",unitCost:10,quantity:2}}}},[[291,1,2]]]);
//# sourceMappingURL=main.3aa7fc48.chunk.js.map